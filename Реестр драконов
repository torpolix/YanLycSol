import csv
import json


def read_dragons_from_csv(filename):
    dragons = []
    with open(filename, 'r', newline='') as csvfile:
        reader = csv.DictReader(csvfile)
        for row in reader:
            dragon = {
                "name": row["name"],
                "place": row["place"],
                "nature": row["nature"],
                "number_of_heads": row["number_of_heads"],
                "possession_of_the_true_speech": row["possession_of_the_true_speech"]
            }
            dragons.append(dragon)
    return dragons


def write_dragons_to_json(dragons, filename):
    data = {"dragons": dragons}
    with open(filename, 'w') as jsonfile:
        json.dump(data, jsonfile, indent=4)


def main():
    dragons = read_dragons_from_csv("dragons.csv")
    write_dragons_to_json(dragons, "dragons.json")


if __name__ == "__main__":
    main()
